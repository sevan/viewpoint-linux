.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH WATCH 1 "6 грудня 2020 року" procps\-ng "Команди користувача"
.SH НАЗВА
watch — програма для періодичного виконання інших програм з виведенням даних
на весь екран
.SH "КОРОТКИЙ ОПИС"
\fBwatch\fP [\fIпараметри\fP] \fIкоманда\fP
.SH ОПИС
\fBwatch\fP виконує \fIкоманду\fP регулярно, показує виведені нею дані та
повідомлення щодо помилок (перший екран). За \fBwatch\fP ви зможете
спостерігати за змінами у виведених даних із часом. Типово, запуск програми
\fIкоманда\fP відбуватиметься кожні 2 секунди, аж доки роботу \fBwatch\fP не буде
перервано.
.SH ПАРАМЕТРИ
.TP 
\fB\-d\fP, \fB\-\-differences\fP[=\fIpermanent\fP]
Позначити відмінності між двома послідовними запусками. Якщо задано
необов'язковий аргумент \fIpermanent\fP, \fBwatch\fP покаже усі зміни із часу
першого запуску.
.TP 
\fB\-n\fP, \fB\-\-interval\fP \fIчисло\fP
Визначити інтервал між запусками. Найменшим є інтервал у 0,1 секунди. Якщо
ви вкажете менше значення, використовуватиметься інтервал у 0,1 секунди. У
всіх локалях працюють і «.» і «,». Для постійного визначення нетипового
інтервалу можна скористатися змінною середовища WATCH_INTERVAL (для неї
використовуються ті самі правила і форматування).
.TP 
\fB\-p\fP, \fB\-\-precise\fP
Наказати \fBwatch\fP запускати \fIcommand\fP кожні \fB\-\-interval\fP
\fIсекунд\fP. Спробуйте з \fBntptime\fP (якщо є) і зауважте, що дробові частки
секунд залишаються (майже) незмінними, на відміну від звичайного режиму,
коли значення неперервно зростають.
.TP 
\fB\-t\fP, \fB\-\-no\-title\fP
Вимкнути показ заголовка із даними щодо інтервалу, команди та поточного часу
та наступного порожнього рядка у верхній частині екрана.
.TP 
\fB\-b\fP, \fB\-\-beep\fP
Гудок, якщо виконання команди завершується ненульовим станом.
.TP 
\fB\-e\fP, \fB\-\-errexit\fP
Призупинити оновлення, якщо буде виявлено помилку, і завершити роботу після
натискання будь\-якої клавіші.
.TP 
\fB\-g\fP, \fB\-\-chgexit\fP
Вийти, якщо змінилися дані, виведені командою \fIкоманда\fP.
.TP 
\fB\-c\fP, \fB\-\-color\fP
Обробляти послідовності символів ANSI для кольорів і стилю.
.TP 
\fB\-x\fP, \fB\-\-exec\fP
Передати команду \fIкоманда\fP до \fBexec\fP(2) замість \fBsh \-c\fP. Це зменшує
потребу у використанні лапок для отримання бажаного результату.
.TP 
\fB\-w\fP, \fB\-\-no\-linewrap\fP
Вимкнути перенесення рядків. Довгі рядки буде обрізано, замість перенесення
на наступний.
.TP 
\fB\-h\fP, \fB\-\-help\fP
Вивести текст довідки і завершити роботу.
.TP 
\fB\-v\fP, \fB\-\-version\fP
Вивести дані щодо версії і завершити роботу.
.SH "СТАН ВИХОДУ"
.PP
.RS
.PD 0
.TP 
\fB0\fP
Успіх.
.TP 
\fB1\fP
Різноманітні помилки.
.TP 
\fB2\fP
Відгалуження процесу для спостереження зазнало невдачі.
.TP 
\fB3\fP
Не вдалося замінити стандартне виведення дочірнього процесу на канал
стороннього запису.
.TP 
\fB4\fP
Помилка під час виконання команди.
.TP 
\fB5\fP
Відгалуження процесу для спостереження зазнало невдачі.
.TP 
\fB7\fP
Спроба створення каналу IPC зазнала невдачі.
.TP 
\fB8\fP
Спроба отримання значення виходу дочірнього процесу за допомогою
\fBwaitpid\fP(2) зазнала невдачі або команда завершила роботу повідомлення про
помилку.
.TP 
\fBінший\fP
watch передасть стан виходу команди як стан виходу дочірнього процесу.
.SH СЕРЕДОВИЩЕ
На поведінку \fBwatch\fP можна впливати за допомогою вказаних нижче змінних
середовища.

.TP 
\fBWATCH_INTERVAL\fP
Інтервал оновлення, використовує ті самі правила, що і параметр командного
рядка \fB\-\-interval\fP.
.SH ЗАУВАЖЕННЯ
Спосіб обробки параметрів POSIX (тобто обробка параметрів завершується на
першому з аргументів, який не є параметром). Це означає, що параметри після
\fIкоманди\fP не оброблятимуться самою програмою \fBwatch\fP.
.SH ВАДИ
Після зміни розмірів вікна термінала, дані не буде належним чином
переформатовано до наступного запланованого оновлення. Також буде втрачено
усі позначення, отримані за допомогою параметра \fB\-\-differences\fP.

Непридатні до виведення символи буде усунуто із даних, виведених
програмою. Якщо ви хочете побачити ці символи, скористайтеся \fBcat \-v\fP у
послідовності команд, створеній за допомогою символу каналу (|).

Символи поєднання, які мало бути показано на позиції у останньому стовпчику
на екрані, може бути показано на стовпчик раніше або взагалі не показано.

Символи поєднання ніколи не враховуються під час визначення відмінностей,
якщо використано параметр \fB\-\-differences\fP. До уваги беруться лише основні
символи.

Порожні рядки, розташовані безпосередньо після рядка, що завершує останній
стовпчик, не буде показано.

У режимі \fB\-\-precise\fP ще не передбачено технології розширеного викривлення
часу для компенсації проблем із \fIкомандою\fP, виконання якої триває понад
\fB\-\-interval\fP \fIсекунд\fP. Крім того, \fBwatch\fP може перейти у режим, коли
програма швидко намагається запустити якомога більше екземплярів \fIкоманди\fP
для того, щоб «наздогнати» план за попередніми запусками, виконання яких
тривало понад \fB\-\-interval\fP (наприклад, виконання команди \fBnetstat\fP під час
пошуку у DNS може тривати дуже довго).
.SH ПРИКЛАДИ
.PP
Для спостереження за надходженням пошти можна скористатися такою командою:
.IP
watch \-n 60 from
.PP
Для спостереження за змінами у вмісті каталогу можна скористатися такою
командою:
.IP
watch \-d ls \-l
.PP
Якщо вас цікавлять лише файли, власником яких є користувач joe, ви можете
скористатися такою командою:
.IP
watch \-d 'ls \-l | fgrep joe'
.PP
Щоб побачити результат використання лапок, спробуйте таку команду:
.IP
watch echo $$
.br
watch echo '$$'
.br
watch echo "'"'$$'"'"
.PP
Щоб побачити результат точного врахування часу, спробуйте додати параметр
\fB\-p\fP до такої команди:
.IP
watch \-n 10 sleep 1
.PP
Стежити за діями зі встановлення найновіших версій ядра адміністратора
вашого комп’ютера можна за допомогою такої команди:
.IP
watch uname \-r
.PP
(Зауважте, що роботу з \fB\-p\fP під час перезавантаження не гарантовано,
особливо з врахуванням використання \fBntpdate\fP (якщо є) та інших механізмів
зміни часових даних.)
